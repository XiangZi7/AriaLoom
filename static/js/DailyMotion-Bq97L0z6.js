var O=Object.defineProperty;var h=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var d=(r,e,t)=>e in r?O(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_=(r,e)=>{for(var t in e||(e={}))b.call(e,t)&&d(r,t,e[t]);if(h)for(var t of h(e))M.call(e,t)&&d(r,t,e[t]);return r};import{g as w,r as S}from"./react-ClPpOBC1.js";import{u as j,p as T}from"./playmv-BTaAUtnf.js";function E(r,e){for(var t=0;t<e.length;t++){const o=e[t];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in r)){const i=Object.getOwnPropertyDescriptor(o,a);i&&Object.defineProperty(r,a,i.get?i:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}var A=Object.create,s=Object.defineProperty,L=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyNames,x=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty,K=(r,e,t)=>e in r?s(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R=(r,e)=>{for(var t in e)s(r,t,{get:e[t],enumerable:!0})},f=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of C(e))!N.call(r,a)&&a!==t&&s(r,a,{get:()=>e[a],enumerable:!(o=L(e,a))||o.enumerable});return r},B=(r,e,t)=>(t=r!=null?A(x(r)):{},f(e||!r||!r.__esModule?s(t,"default",{value:r,enumerable:!0}):t,r)),I=r=>f(s({},"__esModule",{value:!0}),r),n=(r,e,t)=>(K(r,typeof e!="symbol"?e+"":e,t),t),g={};R(g,{default:()=>p});var m=I(g),c=B(S),l=j,P=T;const k="https://api.dmcdn.net/all.js",F="DM",G="dmAsyncInit";class p extends c.Component{constructor(){super(...arguments),n(this,"callPlayer",l.callPlayer),n(this,"onDurationChange",()=>{const e=this.getDuration();this.props.onDuration(e)}),n(this,"mute",()=>{this.callPlayer("setMuted",!0)}),n(this,"unmute",()=>{this.callPlayer("setMuted",!1)}),n(this,"ref",e=>{this.container=e})}componentDidMount(){this.props.onMount&&this.props.onMount(this)}load(e){const{controls:t,config:o,onError:a,playing:i}=this.props,[,y]=e.match(P.MATCH_URL_DAILYMOTION);if(this.player){this.player.load(y,{start:(0,l.parseStartTime)(e),autoplay:i});return}(0,l.getSDK)(k,F,G,u=>u.player).then(u=>{if(!this.container)return;const v=u.player;this.player=new v(this.container,{width:"100%",height:"100%",video:y,params:_({controls:t,autoplay:this.props.playing,mute:this.props.muted,start:(0,l.parseStartTime)(e),origin:window.location.origin},o.params),events:{apiready:this.props.onReady,seeked:()=>this.props.onSeek(this.player.currentTime),video_end:this.props.onEnded,durationchange:this.onDurationChange,pause:this.props.onPause,playing:this.props.onPlay,waiting:this.props.onBuffer,error:D=>a(D)}})},a)}play(){this.callPlayer("play")}pause(){this.callPlayer("pause")}stop(){}seekTo(e,t=!0){this.callPlayer("seek",e),t||this.pause()}setVolume(e){this.callPlayer("setVolume",e)}getDuration(){return this.player.duration||null}getCurrentTime(){return this.player.currentTime}getSecondsLoaded(){return this.player.bufferedTime}render(){const{display:e}=this.props,t={width:"100%",height:"100%",display:e};return c.default.createElement("div",{style:t},c.default.createElement("div",{ref:this.ref}))}}n(p,"displayName","DailyMotion");n(p,"canPlay",P.canPlay.dailymotion);n(p,"loopOnEnded",!0);const U=w(m),z=E({__proto__:null,default:U},[m]);export{z as D};
