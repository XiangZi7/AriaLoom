var Re=Object.defineProperty,ye=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var se=(e,t,s)=>t in e?Re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,g=(e,t)=>{for(var s in t||(t={}))oe.call(t,s)&&se(e,s,t[s]);if(I)for(var s of I(t))re.call(t,s)&&se(e,s,t[s]);return e},w=(e,t)=>ye(e,$e(t));var G=(e,t)=>{var s={};for(var r in e)oe.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&I)for(var r of I(e))t.indexOf(r)<0&&re.call(e,r)&&(s[r]=e[r]);return s};import{r as p}from"./react-ClPpOBC1.js";import{D as Te,U as ke,g as x,m as Ae,u as we,a9 as Fe,k as xe,c as B,l as k,F as De,E as Le}from"./index-BSJiVz4U.js";import{t as Me,p as ae,$ as Se,b as ne,c as _e}from"./import-CeKd9nTN.js";import{u as Ie}from"./index-Df0UKUGz.js";var F=new WeakMap,d=[];function Be(e,t=document.body){let s=new Set(e),r=new Set,v=a=>{for(let i of a.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))s.add(i);let n=i=>{const E=i.parentElement;if(s.has(i)||r.has(E)&&E.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let O of s)if(i.contains(O))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},o=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:n}),C=n(a);if(C===NodeFilter.FILTER_ACCEPT&&P(a),C!==NodeFilter.FILTER_REJECT){let i=o.nextNode();for(;i!=null;)P(i),i=o.nextNode()}},P=a=>{var n;let o=(n=F.get(a))!=null?n:0;a.getAttribute("aria-hidden")==="true"&&o===0||(o===0&&a.setAttribute("aria-hidden","true"),r.add(a),F.set(a,o+1))};d.length&&d[d.length-1].disconnect(),v(t);let m=new MutationObserver(a=>{for(let n of a)if(!(n.type!=="childList"||n.addedNodes.length===0)&&![...s,...r].some(o=>o.contains(n.target))){for(let o of n.removedNodes)o instanceof Element&&(s.delete(o),r.delete(o));for(let o of n.addedNodes)(o instanceof HTMLElement||o instanceof SVGElement)&&(o.dataset.liveAnnouncer==="true"||o.dataset.reactAriaTopLayer==="true")?s.add(o):o instanceof Element&&v(o)}});m.observe(t,{childList:!0,subtree:!0});let h={observe(){m.observe(t,{childList:!0,subtree:!0})},disconnect(){m.disconnect()}};return d.push(h),()=>{m.disconnect();for(let a of r){let n=F.get(a);n!=null&&(n===1?(a.removeAttribute("aria-hidden"),F.delete(a)):F.set(a,n-1))}h===d[d.length-1]?(d.pop(),d.length&&d[d.length-1].observe()):d.splice(d.indexOf(h),1)}}function Ke(e,t){const M=e,{triggerRef:s,popoverRef:r,showArrow:v,offset:P=7,crossOffset:m=0,scrollRef:h,shouldFlip:a,boundaryElement:n,isDismissable:o=!0,shouldCloseOnBlur:C=!0,placement:i="top",containerPadding:E,shouldCloseOnInteractOutside:O,isNonModal:K,isKeyboardDismissDisabled:W,updatePositionDeps:D=[]}=M,H=G(M,["triggerRef","popoverRef","showArrow","offset","crossOffset","scrollRef","shouldFlip","boundaryElement","isDismissable","shouldCloseOnBlur","placement","containerPadding","shouldCloseOnInteractOutside","isNonModal","isKeyboardDismissDisabled","updatePositionDeps"]),L=K||!0,{overlayProps:V,underlayProps:q}=Te({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:C,isDismissable:o,isKeyboardDismissDisabled:W,shouldCloseOnInteractOutside:O||(j=>{let S=s==null?void 0:s.current;return!S||!S.contains(j)})},r),{overlayProps:f,arrowProps:J,placement:N,updatePosition:U}=ke(w(g({},H),{shouldFlip:a,crossOffset:m,targetRef:s,overlayRef:r,isOpen:t.isOpen,scrollRef:h,boundaryElement:n,containerPadding:E,placement:Me(i),offset:v?P+3:P,onClose:()=>{}}));return Ie(()=>{D.length&&U()},D),p.useEffect(()=>{if(t.isOpen&&!L&&r.current)return Be([r.current])},[L,t.isOpen,r]),{popoverProps:x(V,f),arrowProps:J,underlayProps:q,placement:N}}function Ue(e){var t,s;const[r,v]=Ae(e,ae.variantKeys),ee=r,{as:P,children:m,ref:h,state:a,triggerRef:n,scrollRef:o,defaultOpen:C,onOpenChange:i,isOpen:E,isNonModal:O=!0,shouldFlip:K=!0,containerPadding:W=12,shouldBlockScroll:D=!1,isDismissable:H=!0,shouldCloseOnBlur:L,portalContainer:V,updatePositionDeps:q,placement:f="top",triggerType:J="dialog",showArrow:N=!1,offset:U=7,crossOffset:M=0,boundaryElement:j,isKeyboardDismissDisabled:S,shouldCloseOnInteractOutside:le,motionProps:ie,className:ce,classNames:u,onClose:z}=ee,Q=G(ee,["as","children","ref","state","triggerRef","scrollRef","defaultOpen","onOpenChange","isOpen","isNonModal","shouldFlip","containerPadding","shouldBlockScroll","isDismissable","shouldCloseOnBlur","portalContainer","updatePositionDeps","placement","triggerType","showArrow","offset","crossOffset","boundaryElement","isKeyboardDismissDisabled","shouldCloseOnInteractOutside","motionProps","className","classNames","onClose"]),de=P||"div",b=we(h),ue=p.useRef(null),_=p.useRef(!1),A=n||ue,pe=(t=e.disableAnimation)!=null?t:!1,fe=Se({isOpen:E,defaultOpen:C,onOpenChange:l=>{i==null||i(l),l||z==null||z()}}),c=a||fe,{popoverProps:X,underlayProps:Y,placement:R}=Ke({triggerRef:A,isNonModal:O,popoverRef:b,placement:f,offset:U,scrollRef:o,isDismissable:H,shouldCloseOnBlur:L,boundaryElement:j,crossOffset:M,shouldFlip:K,containerPadding:W,updatePositionDeps:q,isKeyboardDismissDisabled:S,shouldCloseOnInteractOutside:le},c),{triggerProps:y}=Fe({type:J},c,A),{isFocusVisible:me,isFocused:be,focusProps:ge}=xe(),$=p.useMemo(()=>ae(g({},v)),[...Object.values(v)]),ve=B(u==null?void 0:u.base,ce),Pe=(l={})=>w(g({ref:b},x(X,Q,l)),{style:x(X.style,Q.style,l.style)}),he=(l={})=>w(g({"data-slot":"base","data-open":k(c.isOpen),"data-focus":k(be),"data-arrow":k(N),"data-focus-visible":k(me),"data-placement":ne(R,f)},x(ge,l)),{className:$.base({class:B(ve)}),style:{outline:"none"}}),Oe=p.useCallback((l={})=>({"data-slot":"content","data-open":k(c.isOpen),"data-arrow":k(N),"data-placement":ne(R,f),className:$.content({class:B(u==null?void 0:u.content,l.className)})}),[$,c.isOpen,N,R,f,u]),Ce=p.useMemo(()=>_e(R,f)?R:f,[R,f]),Z=p.useCallback(l=>{var T;let te;return l.pointerType==="touch"&&((e==null?void 0:e.backdrop)==="blur"||(e==null?void 0:e.backdrop)==="opaque")?te=setTimeout(()=>{_.current=!0},100):_.current=!0,(T=y.onPress)==null||T.call(y,l),()=>{clearTimeout(te)}},[y==null?void 0:y.onPress]),Ee=p.useCallback((l={},T=null)=>w(g({"data-slot":"trigger","aria-haspopup":"dialog"},x(y,l)),{onPress:Z,className:$.trigger({class:B(u==null?void 0:u.trigger,l.className)}),ref:De(T,A)}),[c,y,Z,A]),Ne=p.useCallback((l={})=>g(g({"data-slot":"backdrop",className:$.backdrop({class:u==null?void 0:u.backdrop}),onClick:T=>{if(!_.current){T.preventDefault();return}c.close(),_.current=!1}},Y),l),[$,c.isOpen,u,Y]);return p.useEffect(()=>{if(c.isOpen&&(b!=null&&b.current))return Le([b==null?void 0:b.current])},[c.isOpen,b]),{state:c,Component:de,children:m,classNames:u,showArrow:N,triggerRef:A,placement:Ce,isNonModal:O,popoverRef:b,portalContainer:V,isOpen:c.isOpen,onClose:c.close,disableAnimation:pe,shouldBlockScroll:D,backdrop:(s=e.backdrop)!=null?s:"transparent",motionProps:ie,getBackdropProps:Ne,getPopoverProps:Pe,getTriggerProps:Ee,getDialogProps:he,getContentProps:Oe}}export{Ue as u};
